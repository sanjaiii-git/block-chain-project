(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{2390:(e,s,t)=>{Promise.resolve().then(t.bind(t,5529))},2890:(e,s,t)=>{"use strict";t.d(s,{N:()=>a});let a=(0,t(5040).UU)("https://hnkolxztgvnyshsegpmj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhua29seHp0Z3ZueXNoc2VncG1qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc4NDEyMzgsImV4cCI6MjA3MzQxNzIzOH0.QqZ13pIpu0G-WebtuAIYfd6UdotPn9-7KuEoFSg5OAA")},5529:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>F});var a=t(5155),r=t(2115),l=t(63),i=t(2890);let n=(0,t(5040).UU)("https://hnkolxztgvnyshsegpmj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhua29seHp0Z3ZueXNoc2VncG1qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc4NDEyMzgsImV4cCI6MjA3MzQxNzIzOH0.QqZ13pIpu0G-WebtuAIYfd6UdotPn9-7KuEoFSg5OAA");class o{static async storeBlockchainTransaction(e){let{data:s,error:t}=await n.from("blockchain_transactions").insert([e]).select().single();if(t)throw t;return s}static async storeAdminSignature(e){let{data:s,error:t}=await n.from("admin_signatures").insert([e]).select().single();if(t)throw t;return s}static async createMultiAdminApproval(e){let{data:s,error:t}=await n.from("multi_admin_approvals").insert([e]).select().single();if(t)throw t;return s}static async addAdminApprovalSignature(e){let{data:s,error:t}=await n.from("admin_approval_signatures").insert([e]).select().single();if(t)throw t;return s}static async getBlockchainTransactionByHash(e){let{data:s,error:t}=await n.from("blockchain_transactions").select("*").eq("block_hash",e).single();if(t)throw t;return s}static async getBlockchainTransactionsForRecord(e){let{data:s,error:t}=await n.from("blockchain_transactions").select("\n        *,\n        admin_signatures (*)\n      ").eq("land_record_id",e).order("block_index",{ascending:!0});if(t)throw t;return s}static async getAllBlockchainTransactions(){let{data:e,error:s}=await n.from("blockchain_transaction_details").select("*").order("block_index",{ascending:!1});if(s)throw s;return e}static async getMultiAdminApprovalStatus(e,s){let t=n.from("multi_admin_approval_status").select("*");e?t=t.eq("id",e):s&&(t=t.eq("land_record_id",s));let{data:a,error:r}=await t.order("created_at",{ascending:!1});if(r)throw r;return a}static async getPendingMultiAdminApprovals(){let{data:e,error:s}=await n.from("multi_admin_approval_status").select("*").eq("approval_status","pending").order("created_at",{ascending:!1});if(s)throw s;return e}static async validateBlockchainIntegrity(){let{data:e,error:s}=await n.from("blockchain_transactions").select("*").order("block_index",{ascending:!0});if(s)throw s;for(let s=1;s<e.length;s++){let t=e[s],a=e[s-1];if(t.previous_hash!==a.block_hash)return{isValid:!1,error:"Block ".concat(t.block_index," has invalid previous_hash"),invalidBlock:t}}return{isValid:!0,totalBlocks:e.length}}static async getBlockchainConfig(){let{data:e,error:s}=await n.from("blockchain_config").select("*");if(s)throw s;let t={};return e.forEach(e=>{t[e.config_key]=e.config_value}),t}static async updateBlockchainConfig(e,s,t){let{data:a,error:r}=await n.from("blockchain_config").upsert([{config_key:e,config_value:s,updated_by:t,updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return a}static async getBlockchainStats(){var e;let{data:s}=await n.from("blockchain_transactions").select("id"),{data:t}=await n.from("admin_signatures").select("id"),{data:a}=await n.from("multi_admin_approvals").select("approval_status"),{data:r}=await n.from("blockchain_transactions").select("created_at").order("created_at",{ascending:!1}).limit(1);return{totalTransactions:(null==s?void 0:s.length)||0,totalSignatures:(null==t?void 0:t.length)||0,pendingApprovals:(null==a?void 0:a.filter(e=>"pending"===e.approval_status).length)||0,approvedTransactions:(null==a?void 0:a.filter(e=>"approved"===e.approval_status).length)||0,lastTransactionAt:(null==r||null==(e=r[0])?void 0:e.created_at)||null}}static async createLandRecordWithBlockchain(e,s,t){try{let{data:a,error:r}=await n.from("land_records").insert([e]).select().single();if(r)throw r;let l={recordId:a.id,action:"create",newData:a,adminId:s,adminName:t,timestamp:new Date().toISOString()};return{landRecord:a,blockchainData:l}}catch(e){throw console.error("Error creating land record with blockchain:",e),e}}static async updateLandRecordWithBlockchain(e,s,t,a){try{let{data:r,error:l}=await n.from("land_records").select("*").eq("id",e).single();if(l)throw l;let{data:i,error:o}=await n.from("land_records").update(s).eq("id",e).select().single();if(o)throw o;let d={recordId:e,action:"update",previousData:r,newData:i,adminId:t,adminName:a,timestamp:new Date().toISOString()};return{updatedRecord:i,blockchainData:d}}catch(e){throw console.error("Error updating land record with blockchain:",e),e}}}var d=t(3018),c=t.n(d);class x{createGenesisBlock(){let e="2025-01-01T00:00:00.000Z",s={index:0,timestamp:e,data:{message:"Land Records Blockchain Genesis Block",system:"Land Management System v1.0",timestamp:e},previousHash:"0",hash:"",adminSignatures:[],nonce:0};return s.hash=this.calculateHash(s.index,s.timestamp,s.data,s.previousHash,s.nonce),this.mineBlock(s)}calculateHash(e,s,t,a,r){let l=e+s+JSON.stringify(t)+a+r;return c().createHash("sha256").update(l).digest("hex")}testIdenticalDataHashes(){console.log("\uD83E\uDDEA Testing identical data with different hashes...\n");let e={land_id:"LR-SAME001",owner_name:"John Doe",location:"Same Location",area:100,property_type:"residential"},s=new Date().toISOString();setTimeout(()=>{let t=new Date().toISOString(),a=this.calculateHash(1,s,e,"00abc123def456",0),r=this.calculateHash(1,t,e,"00abc123def456",0);console.log("Identical Data Test Results:"),console.log("Data: ".concat(JSON.stringify(e))),console.log("Timestamp 1: ".concat(s)),console.log("Timestamp 2: ".concat(t)),console.log("Hash 1: ".concat(a)),console.log("Hash 2: ".concat(r)),console.log("Hashes are different: ".concat(a!==r)),console.log("Time difference: ".concat(new Date(t).getTime()-new Date(s).getTime(),"ms\n"))},1)}checkForHashCollisions(){let e=new Map,s=[];return this.chain.forEach((t,a)=>{e.has(t.hash)?s.push({hash:t.hash,firstBlock:e.get(t.hash),secondBlock:a,blockData:{first:this.chain[e.get(t.hash)],second:t}}):e.set(t.hash,a)}),s.length>0?(console.log("\uD83D\uDEA8 CRITICAL: Hash collisions detected!"),s.forEach(e=>{console.log("   Blocks ".concat(e.firstBlock," and ").concat(e.secondBlock," have same hash: ").concat(e.hash))})):console.log("✅ No hash collisions detected - blockchain secure!"),{hasCollisions:s.length>0,collisions:s}}getLatestBlock(){let e=this.chain[this.chain.length-1];return console.log("\uD83D\uDD0D Getting latest block - Index: ".concat(e.index,", Hash: ").concat(e.hash)),e}mineBlock(e){let s="0".repeat(this.difficulty);console.log("⛏️ Mining block ".concat(e.index," with difficulty ").concat(this.difficulty," (target: ").concat(s,")"));let t=Date.now();for(;e.hash.substring(0,this.difficulty)!==s;)e.nonce++,e.hash=this.calculateHash(e.index,e.timestamp,e.data,e.previousHash,e.nonce),e.nonce%100==0&&console.log("   Nonce: ".concat(e.nonce,", Hash: ").concat(e.hash.substring(0,20),"..."));let a=Date.now();return console.log("✅ Block ".concat(e.index," mined successfully!")),console.log("   Final nonce: ".concat(e.nonce)),console.log("   Final hash: ".concat(e.hash)),console.log("   Mining time: ".concat(a-t,"ms")),console.log("   Hash starts with: ".concat(e.hash.substring(0,this.difficulty))),e}createAdminSignature(e,s,t,a){let r={adminId:e,adminName:s,action:t,blockData:JSON.stringify(a)};return{adminId:e,adminName:s,signature:c().createHash("sha256").update(JSON.stringify(r)).digest("hex"),timestamp:new Date().toISOString(),action:t}}addLandRecordTransaction(e){let s=this.getLatestBlock();console.log("\uD83D\uDD0D BLOCKCHAIN DEBUG - Adding new transaction:"),console.log("   Chain length: ".concat(this.chain.length)),console.log("   Latest block index: ".concat(s.index)),console.log("   Latest block hash: ".concat(s.hash)),console.log("   New block will have previousHash: ".concat(s.hash));let t=this.createAdminSignature(e.adminId,e.adminName,e.action,e),a={index:s.index+1,timestamp:new Date().toISOString(),data:e,previousHash:s.hash,hash:"",adminSignatures:[t],nonce:0};console.log("   New block created:"),console.log("     Index: ".concat(a.index)),console.log("     Previous hash: ".concat(a.previousHash)),console.log("     Expected previous hash: ".concat(s.hash)),console.log("     Match: ".concat(a.previousHash===s.hash)),a.hash=this.calculateHash(a.index,a.timestamp,a.data,a.previousHash,a.nonce);let r=this.mineBlock(a);console.log("   Block after mining:"),console.log("     Final hash: ".concat(r.hash)),console.log("     Final previous hash: ".concat(r.previousHash)),console.log("     Previous hash still matches: ".concat(r.previousHash===s.hash)),this.chain.push(r);let l=this.isChainValid();return console.log("   Chain valid after adding: ".concat(l)),r}addAdminApproval(e,s,t,a){let r=this.chain.find(s=>s.hash===e);if(!r)throw Error("Block not found");if(r.adminSignatures.find(e=>e.adminId===s))throw Error("Admin has already signed this block");let l=this.createAdminSignature(s,t,a,r.data);return r.adminSignatures.push(l),!0}isChainValid(){if(console.log("\uD83D\uDD0D Validating blockchain with ".concat(this.chain.length," blocks...")),this.checkForHashCollisions().hasCollisions)return console.log("❌ Blockchain invalid due to hash collisions!"),!1;for(let e=1;e<this.chain.length;e++){let s=this.chain[e],t=this.chain[e-1];console.log("   Checking block ".concat(e,":")),console.log("     Current hash: ".concat(s.hash)),console.log("     Previous hash: ".concat(s.previousHash)),console.log("     Expected previous: ".concat(t.hash));let a=this.calculateHash(s.index,s.timestamp,s.data,s.previousHash,s.nonce);if(s.hash!==a)return console.log("❌ Invalid hash at block ".concat(e)),console.log("     Expected: ".concat(a)),console.log("     Actual: ".concat(s.hash)),!1;if(s.previousHash!==t.hash)return console.log("❌ Invalid previous hash at block ".concat(e)),console.log("     Expected: ".concat(t.hash)),console.log("     Actual: ".concat(s.previousHash)),!1;let r="0".repeat(this.difficulty);if(s.hash.substring(0,this.difficulty)!==r)return console.log("❌ Block not properly mined at ".concat(e)),console.log("     Hash: ".concat(s.hash)),console.log("     Required: starts with ".concat(r)),!1;console.log("   ✅ Block ".concat(e," is valid"))}let e=this.chain[0],s="0".repeat(this.difficulty);return e.hash.substring(0,this.difficulty)!==s?(console.log("❌ Genesis block not properly mined"),console.log("     Hash: ".concat(e.hash)),console.log("     Required: starts with ".concat(s)),!1):(console.log("✅ Blockchain is valid! All ".concat(this.chain.length," blocks properly mined with difficulty ").concat(this.difficulty)),!0)}getChain(){return this.chain}getRecordHistory(e){return this.chain.filter(s=>s.data&&s.data.recordId===e)}getBlocksByAdmin(e){return this.chain.filter(s=>s.adminSignatures.some(s=>s.adminId===e))}hasRequiredApprovals(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=this.chain.find(s=>s.hash===e);return!!t&&t.adminSignatures.filter(e=>"approve"===e.action).length>=s}resetBlockchain(){console.log("\uD83D\uDD04 Resetting blockchain..."),this.chain=[this.createGenesisBlock()],console.log("✅ Blockchain reset with new properly mined genesis block")}rebuildChainFromTransactions(e){for(let s of(console.log("\uD83D\uDD04 Rebuilding blockchain from transactions..."),this.chain=[this.createGenesisBlock()],e.sort((e,s)=>new Date(e.timestamp).getTime()-new Date(s.timestamp).getTime()))){let e=this.getLatestBlock(),t={index:e.index+1,timestamp:s.timestamp,data:s.transaction_data,previousHash:e.hash,hash:"",adminSignatures:[],nonce:0};t.hash=this.calculateHash(t.index,t.timestamp,t.data,t.previousHash,t.nonce);let a=this.mineBlock(t);this.chain.push(a),console.log("✅ Rebuilt block ".concat(a.index," with hash: ").concat(a.hash)),console.log("   Previous hash: ".concat(a.previousHash))}console.log("✅ Blockchain rebuild complete with proper hash chain")}getBlockchainStats(){var e,s;return{totalBlocks:this.chain.length,difficulty:this.difficulty,totalNonces:this.chain.reduce((e,s)=>e+s.nonce,0),averageNonce:this.chain.length>0?this.chain.reduce((e,s)=>e+s.nonce,0)/this.chain.length:0,allBlocksValid:this.isChainValid(),genesisBlockHash:null==(e=this.chain[0])?void 0:e.hash,latestBlockHash:null==(s=this.getLatestBlock())?void 0:s.hash,allHashesStartWithTarget:this.chain.every(e=>e.hash.substring(0,this.difficulty)==="0".repeat(this.difficulty))}}exportChain(){return JSON.stringify(this.chain,null,2)}importChain(e){try{let s=JSON.parse(e);return this.chain=s,this.isChainValid()}catch(e){return console.error("Failed to import chain:",e),!1}}constructor(){this.difficulty=2,this.chain=[this.createGenesisBlock()]}}let m=new x,h={createLandRecordTransaction:(e,s,t)=>({recordId:e.id||e.land_id,action:"create",newData:e,adminId:s,adminName:t,timestamp:new Date().toISOString()}),generateAdminSignature:(e,s)=>{let t=e+JSON.stringify(s);return c().createHash("sha256").update(t).digest("hex")},rebuildFromDatabaseTransactions:async e=>(console.log("\uD83D\uDD04 Rebuilding blockchain from database transactions..."),m.rebuildChainFromTransactions(e),console.log("✅ Blockchain rebuilt from database with proper hash chain"),m)};class p{static async createLandRecordRequest(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],{data:t,error:a}=await i.N.from("land_record_requests").insert([{...e,approval_status:"pending",current_approvals:0,land_id:e.land_id||"LR-".concat(Date.now())}]).select().single();if(a)throw a;let r=[];if(s.length>0){for(let a=0;a<s.length;a++){let l=s[a],n=l.name.split(".").pop(),o="".concat(t.id,"/").concat(Date.now(),"_").concat(a,".").concat(n),{data:d,error:c}=await i.N.storage.from("land-documents").upload(o,l);if(c){console.error("File upload error:",c);continue}let{data:x}=i.N.storage.from("land-documents").getPublicUrl(o),{data:m,error:h}=await i.N.from("document_uploads").insert([{request_id:t.id,file_name:l.name,file_size:l.size,file_type:l.type,storage_path:o,public_url:x.publicUrl,uploaded_by:e.requested_by,upload_status:"completed",document_type:0===a?"primary":"supporting",document_description:0===a?"Primary property document":"Supporting document"}]).select().single();!h&&m&&r.push(m)}r.length>0&&await i.N.from("land_record_requests").update({primary_document_url:r[0].public_url,document_urls:r.map(e=>e.public_url)}).eq("id",t.id)}return await this.createApprovalNotifications(t.id,e.requested_by),{request:t,documentUploads:r}}static async getPendingApprovalRequests(){let{data:e,error:s}=await i.N.from("land_record_requests").select("\n        *,\n        requester:profiles!land_record_requests_requested_by_fkey(full_name, email, admin_department),\n        approvals:request_approvals(*)\n      ").eq("approval_status","pending").order("created_at",{ascending:!1});if(s)throw s;return e||[]}static async submitAdminApproval(e,s,t,a,r,l){let n={requestId:e,adminId:s,adminName:t,action:a,timestamp:new Date().toISOString(),comments:r||""},o=h.generateAdminSignature(s,n),{data:d,error:c}=await i.N.from("request_approvals").insert([{request_id:e,admin_id:s,admin_name:t,admin_department:l,approval_action:a,approval_comments:r,signature_hash:o,signature_data:n}]).select().single();if(c)throw c;let{data:x,error:m}=await i.N.from("land_record_requests").select("*").eq("id",e).single();if(m)throw m;if("reject"===a)return await i.N.from("land_record_requests").update({approval_status:"rejected",rejected_at:new Date().toISOString(),rejection_reason:r||"Rejected by admin approval"}).eq("id",e),{approvalComplete:!0,blockchainCreated:!1};let p=x.current_approvals+1;return p>=x.required_approvals?(await i.N.from("land_record_requests").update({approval_status:"approved",approved_at:new Date().toISOString(),current_approvals:p}).eq("id",e),{approvalComplete:!0,blockchainCreated:await this.createBlockchainFromApprovedRequest(e)}):(await i.N.from("land_record_requests").update({current_approvals:p}).eq("id",e),{approvalComplete:!1,blockchainCreated:!1})}static async createBlockchainFromApprovedRequest(e){try{let{data:s,error:t}=await i.N.from("land_record_requests").select("\n          *,\n          approvals:request_approvals(*)\n        ").eq("id",e).single();if(t)throw t;let{data:a,error:r}=await i.N.from("land_records").insert([{land_id:s.land_id,owner_name:s.owner_name,location:s.location,area:s.area,property_type:s.property_type,registration_date:s.registration_date||new Date().toISOString().split("T")[0],status:"approved",created_by:s.requested_by}]).select().single();if(r)throw r;let l=h.createLandRecordTransaction(a,s.requested_by,"Multi-Admin Approved"),n=m.addLandRecordTransaction(l);s.approvals.forEach(e=>{n.adminSignatures.push({adminId:e.admin_id,adminName:e.admin_name,signature:e.signature_hash,timestamp:e.signed_at,action:e.approval_action})});let{data:o}=await i.N.from("blockchain_transactions").insert([{block_index:n.index,block_hash:n.hash,previous_hash:n.previousHash,transaction_data:n.data,timestamp:n.timestamp,nonce:n.nonce,difficulty:2,land_record_id:a.id,created_by:s.requested_by}]).select().single();for(let e of s.approvals)await i.N.from("admin_signatures").insert([{blockchain_transaction_id:o.id,admin_id:e.admin_id,admin_name:e.admin_name,signature_hash:e.signature_hash,action_type:e.approval_action,signed_at:e.signed_at,signature_data:e.signature_data}]);return await i.N.from("land_record_requests").update({approval_status:"blockchain_created",blockchain_created_at:new Date().toISOString(),existing_land_record_id:a.id}).eq("id",e),await i.N.from("document_uploads").update({land_record_id:a.id}).eq("request_id",e),!0}catch(e){return console.error("Error creating blockchain from approved request:",e),!1}}static async createApprovalNotifications(e,s){let{data:t,error:a}=await i.N.from("profiles").select("id, full_name, email").eq("role","admin").neq("id",s);if(a||!t)return;let r=t.map(s=>({request_id:e,admin_id:s.id,notification_type:"approval_required",title:"New Land Record Approval Required",message:"A new land record request requires your approval before blockchain creation."}));await i.N.from("approval_notifications").insert(r)}static async getAdminNotifications(e){let{data:s,error:t}=await i.N.from("approval_notifications").select("\n        *,\n        request:land_record_requests(*)\n      ").eq("admin_id",e).eq("is_read",!1).order("created_at",{ascending:!1});if(t)throw t;return s||[]}static async markNotificationRead(e){await i.N.from("approval_notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",e)}}var u=t(1712),g=t(9715),b=t(7816),f=t(5937),v=t(9068),j=t(5870),N=t(6983),y=t(1016),w=t(1078),_=t(7910),k=t(5229),A=t(9540),D=t(4926),S=t(906),q=t(5998),R=t(7937),C=t(7586),I=t(6191),B=t(5710),T=t(1169),H=t(7828),L=t(6154),O=t(508),E=t(1786);function F(){var e;let s=(0,l.useRouter)(),[t,n]=(0,r.useState)(!0),[d,c]=(0,r.useState)(!0),[x,F]=(0,r.useState)(null),[P,z]=(0,r.useState)(null),[M,V]=(0,r.useState)(!1),[U,J]=(0,r.useState)("overview"),[Q,G]=(0,r.useState)([]),[Z,W]=(0,r.useState)([]),[X,Y]=(0,r.useState)([]),[K,$]=(0,r.useState)([]),[ee,es]=(0,r.useState)([]),[et,ea]=(0,r.useState)({totalTransactions:0,totalSignatures:0,pendingApprovals:0,approvedTransactions:0,lastTransactionAt:null,chainValid:!0}),[er,el]=(0,r.useState)([]),[ei,en]=(0,r.useState)({totalRecords:0,pendingRecords:0,approvedRecords:0,rejectedRecords:0,totalQueries:0,openQueries:0}),[eo,ed]=(0,r.useState)(null),[ec,ex]=(0,r.useState)(!1),[em,eh]=(0,r.useState)(!1),[ep,eu]=(0,r.useState)(!1),[eg,eb]=(0,r.useState)(!1),[ef,ev]=(0,r.useState)(null),[ej,eN]=(0,r.useState)(!1),[ey,ew]=(0,r.useState)({land_id:"",owner_name:"",location:"",area:"",property_type:"residential",registration_date:""}),[e_,ek]=(0,r.useState)(!1),[eA,eD]=(0,r.useState)(""),[eS,eq]=(0,r.useState)(!1);(0,r.useEffect)(()=>{eR()},[]);let eR=async()=>{try{let{data:{user:e},error:t}=await i.N.auth.getUser();if(console.log("\uD83D\uDD10 Auth Check:",{user:null==e?void 0:e.id,error:t}),t||!e)return void s.push("/auth");let{data:a,error:r}=await i.N.from("profiles").select("*").eq("id",e.id).single();if(console.log("\uD83D\uDC64 Profile Check:",{profile:a,profileError:r}),r||!a||"admin"!==a.role){console.log("Access denied - not an admin"),s.push("/user/dashboard");return}F(e),z(a),c(!1),await eC()}catch(e){console.error("Authentication check failed:",e),s.push("/auth")}},eC=async()=>{n(!0);try{console.log("\uD83D\uDD04 Rebuilding blockchain from database...");let{data:e,error:s}=await i.N.from("blockchain_transactions").select("*").order("block_index",{ascending:!0});!s&&e&&e.length>0?(console.log("\uD83D\uDCE6 Found ".concat(e.length," transactions in database")),await h.rebuildFromDatabaseTransactions(e),console.log("✅ Blockchain rebuilt from database")):console.log("\uD83D\uDCE6 No blockchain transactions found, starting with genesis block");let{data:t,error:a}=await i.N.from("land_records").select("*").order("created_at",{ascending:!1});console.log("\uD83D\uDCCA Land Records Query Result:",{records:t,recordsError:a,count:null==t?void 0:t.length});let{data:r,error:l}=await i.N.from("blockchain_transactions").select("\n          *,\n          admin_signatures(\n            id,\n            admin_id,\n            admin_name,\n            signature_hash,\n            action_type,\n            signed_at,\n            signature_data\n          )\n        ").order("created_at",{ascending:!1});if(console.log("\uD83D\uDD17 Blockchain transactions with signatures:",{blockchainData:r,blockchainError:l,count:null==r?void 0:r.length}),t&&t.length>0){let e=new Map;r&&r.length>0&&r.forEach(s=>{s.land_record_id&&e.set(s.land_record_id,s)}),t=t.map(s=>{let t=e.get(s.id);return t?{...s,blockchain_hash:t.block_hash,blockchain_transaction_id:t.id,blockchain_verified:!0,blockchain_created_at:t.created_at,ipfs_hash:t.ipfs_hash||s.ipfs_hash}:s}),console.log("\uD83D\uDD04 Updated land records with blockchain data:",t.length)}else if(r&&r.length>0){console.log("\uD83D\uDD17 Land records table is empty, loading from blockchain_transactions...");let e=r.map((e,s)=>{var t;let a={};try{a="string"==typeof e.transaction_data?JSON.parse(e.transaction_data):e.transaction_data||{}}catch(e){console.log("Error parsing transaction data:",e)}let r=a.land_record||a;return{id:e.land_record_id||e.id,land_id:r.land_id||"LR-".concat(e.block_index,"-").concat(new Date(e.created_at).getTime()),owner_name:r.owner_name||r.admin_id||"Owner-".concat(s+1),location:r.location||"Location from blockchain",area:r.area||100,property_type:r.property_type||"residential",registration_date:r.registration_date||(null==(t=e.created_at)?void 0:t.split("T")[0])||new Date().toISOString().split("T")[0],status:"approved",blockchain_hash:e.block_hash,ipfs_hash:r.ipfs_hash||null,created_at:e.created_at||new Date().toISOString(),updated_at:e.created_at||new Date().toISOString(),created_by:r.created_by||a.admin_id,blockchain_transaction_id:e.id,blockchain_verified:!0,blockchain_created_at:e.created_at}});console.log("\uD83D\uDD04 Converted blockchain data to land records:",e),t=e}G(t||[]);let{data:n}=await i.N.from("approvals").select("\n          *,\n          record:land_records(*)\n        ").eq("approval_status","pending").order("created_at",{ascending:!1});W(n||[]);let{data:o}=await i.N.from("queries").select("*").in("status",["open","in_progress"]).order("created_at",{ascending:!1});$(o||[]);try{let e=await p.getPendingApprovalRequests();Y(e||[])}catch(e){console.error("Error loading pending requests:",e),Y([])}await eI();let d=t||[];en({totalRecords:d.length,pendingRecords:d.filter(e=>"pending"===e.status).length,approvedRecords:d.filter(e=>"approved"===e.status).length,rejectedRecords:d.filter(e=>"rejected"===e.status).length,totalQueries:(o||[]).length,openQueries:(o||[]).filter(e=>"open"===e.status||"in_progress"===e.status).length})}catch(e){console.error("Error loading dashboard data:",e)}finally{n(!1)}},eI=async()=>{try{try{let e=await o.getAllBlockchainTransactions(),s=(null==e?void 0:e.map(e=>{var s;return{...e,signature_count:(null==(s=e.admin_signatures)?void 0:s.length)||0}}))||[];es(s)}catch(e){console.log("Blockchain transactions not loaded yet:",e);try{let{data:e,error:s}=await i.N.from("blockchain_transactions").select("\n              *,\n              admin_signatures(\n                id,\n                admin_id,\n                admin_name,\n                signature_hash,\n                action_type,\n                signed_at,\n                signature_data\n              )\n            ").order("created_at",{ascending:!1});if(!s&&e){console.log("\uD83D\uDCE6 Loaded blockchain transactions with signatures:",e.length);let s=e.map(e=>{var s,t,a,r,l,i,n,o,d;return{...e,signature_count:(null==(s=e.admin_signatures)?void 0:s.length)||0,land_id:(null==(a=e.transaction_data)||null==(t=a.land_record)?void 0:t.land_id)||("string"==typeof e.transaction_data?null==(l=JSON.parse(e.transaction_data))||null==(r=l.land_record)?void 0:r.land_id:null)||"N/A",owner_name:(null==(n=e.transaction_data)||null==(i=n.land_record)?void 0:i.owner_name)||("string"==typeof e.transaction_data?null==(d=JSON.parse(e.transaction_data))||null==(o=d.land_record)?void 0:o.owner_name:null)||"System"}});es(s)}else es([])}catch(e){console.log("Fallback blockchain query also failed:",e),es([])}}try{let e=await o.getBlockchainStats();ea(s=>({...s,...e}))}catch(e){console.log("Blockchain stats not loaded yet:",e),ea(e=>({...e,totalTransactions:0,totalSignatures:0,pendingApprovals:0,approvedTransactions:0,lastTransactionAt:null,chainValid:!0}))}try{let e=await o.validateBlockchainIntegrity();ea(s=>({...s,chainValid:e.isValid}))}catch(e){console.log("Blockchain validation not available yet:",e),ea(e=>({...e,chainValid:!0}))}try{let e=await o.getPendingMultiAdminApprovals();el(e||[])}catch(e){console.log("Multi-admin approvals not loaded yet:",e),el([])}}catch(e){console.error("Error loading blockchain data:",e),es([]),el([]),ea({totalTransactions:0,totalSignatures:0,pendingApprovals:0,approvedTransactions:0,lastTransactionAt:null,chainValid:!0})}},eB=async()=>{await i.N.auth.signOut(),s.push("/")},eT=async e=>{e.preventDefault(),eu(!0);try{var s;let t=new FormData(e.target),a=t.get("primary_document"),r=t.getAll("additional_documents"),l=[a,...r].filter(e=>e&&e.size>0),{request:i,documentUploads:n}=await p.createLandRecordRequest({request_type:"create",owner_name:t.get("owner_name"),location:t.get("property_address"),area:parseFloat(t.get("area_acres"))||0,property_type:t.get("property_type")||"residential",registration_date:new Date().toISOString().split("T")[0],requested_by:x.id,request_notes:t.get("request_notes")||"",required_approvals:2},l);eh(!1),await eC(),alert("✅ Land record request submitted successfully!\n� Request ID: ".concat(null==(s=i.id)?void 0:s.substring(0,8),"...\n\uD83D\uDC65 Requires 2 admin approvals before blockchain creation\n\uD83D\uDCCE Documents uploaded: ").concat(n.length))}catch(e){console.error("Error creating approval request:",e),alert("❌ Error creating approval request: "+e.message)}finally{eu(!1)}},eH=async e=>{try{let{error:s}=await i.N.from("queries").update({status:"resolved",updated_at:new Date().toISOString()}).eq("id",e);if(s)throw s;$(s=>s.filter(s=>s.id!==e)),en(e=>({...e,openQueries:e.openQueries-1})),await eC()}catch(e){console.error("Error marking query as resolved:",e),alert("Error updating query: "+e.message)}},eL=async(e,s)=>{try{let{error:t}=await i.N.from("queries").update({admin_response:s,status:"resolved",updated_at:new Date().toISOString()}).eq("id",e);if(t)throw t;$(s=>s.filter(s=>s.id!==e)),en(e=>({...e,openQueries:e.openQueries-1})),eN(!1),ev(null),alert("✅ Response sent successfully! Query has been resolved and removed from dashboard.")}catch(e){console.error("Error submitting query response:",e),alert("Error sending response: "+e.message)}},eO=async()=>{try{n(!0),console.log("\uD83D\uDD27 Starting blockchain repair...");let{data:e,error:s}=await i.N.from("blockchain_transactions").select("*").order("block_index",{ascending:!0});if(s)throw s;console.log("\uD83D\uDCCA Found ".concat((null==e?void 0:e.length)||0," transactions to rebuild")),await h.rebuildFromDatabaseTransactions(e||[]);let t=m.getChain();for(let s=0;s<t.length;s++){let a=t[s];if(0===s)continue;let r=null==e?void 0:e[s-1];r&&(await i.N.from("blockchain_transactions").update({block_hash:a.hash,previous_hash:a.previousHash,nonce:a.nonce}).eq("id",r.id),console.log("✅ Updated block ".concat(a.index," with correct hash: ").concat(a.hash)))}await eI(),alert("✅ Blockchain repaired successfully! All previous hash links are now correct.")}catch(e){console.error("Error fixing blockchain:",e),alert("Error fixing blockchain: "+e.message)}finally{n(!1)}},eE=[{id:"overview",label:"Overview",icon:u.A},{id:"records",label:"TerraTrust Registry",icon:g.A},{id:"approvals",label:"Approvals",icon:b.A},{id:"queries",label:"User Support",icon:f.A},{id:"blockchain",label:"Blockchain Ledger",icon:v.A},{id:"settings",label:"Settings",icon:j.A}],eF=e=>{switch(e){case"pending":return(0,a.jsx)(N.A,{className:"h-4 w-4 text-yellow-500"});case"approved":return(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-500"});case"rejected":return(0,a.jsx)(y.A,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(w.A,{className:"h-4 w-4 text-gray-500"})}},eP=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":case"resolved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"open":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return d?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):x&&P?(0,a.jsxs)("div",{className:"h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/5 to-indigo-400/5"}),(0,a.jsx)("div",{className:"absolute top-0 left-1/4 w-72 h-72 bg-blue-400/10 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),(0,a.jsx)("div",{className:"absolute top-0 right-1/4 w-72 h-72 bg-purple-400/10 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),(0,a.jsx)("div",{className:"absolute -bottom-8 left-1/3 w-72 h-72 bg-pink-400/10 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"}),(0,a.jsxs)("div",{className:"relative z-10 bg-white/80 backdrop-blur-xl shadow-2xl border-r border-white/20 transition-all duration-300 ".concat(M?"w-64":"w-16"," flex flex-col"),children:[(0,a.jsxs)("div",{className:"relative p-4 border-b border-white/20",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/10 to-purple-500/10"}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center justify-between",children:[M&&(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl shadow-lg",children:(0,a.jsx)(_.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-emerald-600 via-blue-600 to-purple-600 bg-clip-text text-transparent",children:"TerraTrust Admin"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 font-medium",children:"\uD83C\uDF0D Secure Land Registry Platform"})]})]}),(0,a.jsx)("button",{onClick:()=>V(!M),className:"p-2 rounded-xl hover:bg-white/60 transition-all group backdrop-blur-sm border border-white/30",children:M?(0,a.jsx)(k.A,{className:"h-5 w-5 text-gray-600 group-hover:text-indigo-600 transition-colors"}):(0,a.jsx)(A.A,{className:"h-5 w-5 text-gray-600 group-hover:text-indigo-600 transition-colors"})})]})]}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:eE.map(e=>{let s=e.icon,t=U===e.id;return(0,a.jsxs)("button",{onClick:()=>J(e.id),className:"w-full group relative flex items-center px-3 py-4 rounded-2xl text-left transition-all duration-300 transform hover:scale-105 ".concat(t?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg shadow-indigo-500/30 scale-105":"text-gray-700 hover:bg-white/70 hover:shadow-lg backdrop-blur-sm border border-transparent hover:border-indigo-100"),children:[t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl opacity-90"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 rounded-2xl animate-pulse"})]}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center w-full",children:[(0,a.jsx)("div",{className:"flex-shrink-0 p-2.5 rounded-xl transition-all duration-300 ".concat(t?"bg-white/20 shadow-inner backdrop-blur-sm":"bg-gradient-to-br from-indigo-50 to-purple-50 group-hover:from-indigo-100 group-hover:to-purple-100 shadow-sm"),children:(0,a.jsx)(s,{className:"h-5 w-5 transition-all duration-300 ".concat(t?"text-white drop-shadow-sm":"text-indigo-600 group-hover:text-indigo-700")})}),M&&(0,a.jsxs)("div",{className:"ml-4 flex-1 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-bold text-sm transition-all duration-300 ".concat(t?"text-white drop-shadow-sm":"text-gray-700 group-hover:text-indigo-600"),children:e.label}),t&&(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full shadow-lg animate-pulse"})]}),!M&&t&&(0,a.jsx)("div",{className:"absolute -right-1 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-white rounded-full shadow-lg"})]})]},e.id)})}),(0,a.jsxs)("div",{className:"p-4 border-t border-white/20 bg-gradient-to-r from-gray-50/80 to-indigo-50/80 backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"flex items-center ".concat(M?"space-x-3":"justify-center"),children:[(0,a.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg",children:(0,a.jsx)(_.A,{className:"h-6 w-6 text-white"})}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white shadow-sm",children:(0,a.jsx)("div",{className:"w-full h-full bg-green-400 rounded-full animate-ping"})})]}),M&&(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-900 truncate",children:P.full_name}),(0,a.jsx)("div",{className:"flex items-center mt-1",children:(0,a.jsx)("span",{className:"text-xs text-indigo-600 font-medium bg-gradient-to-r from-indigo-50 to-purple-50 px-3 py-1 rounded-full border border-indigo-100 shadow-sm",children:P.admin_department})}),(0,a.jsxs)("div",{className:"flex items-center mt-2 text-xs text-emerald-600",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2 animate-pulse shadow-sm"}),(0,a.jsx)("span",{className:"font-medium",children:"Online & Active"})]})]})]}),M&&(0,a.jsxs)("button",{onClick:eB,className:"w-full mt-4 flex items-center justify-center space-x-3 px-4 py-3 text-red-600 hover:text-red-700 bg-gradient-to-r from-red-50 to-pink-50 hover:from-red-100 hover:to-pink-100 rounded-2xl transition-all duration-300 group border border-red-100 hover:border-red-200 hover:shadow-lg transform hover:scale-105",children:[(0,a.jsx)("div",{className:"p-1 bg-red-100 rounded-lg group-hover:bg-red-200 transition-colors shadow-sm",children:(0,a.jsx)(D.A,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"font-bold text-sm",children:"Sign Out"})]})]})]}),(0,a.jsxs)("div",{className:"relative z-10 flex-1 flex flex-col overflow-hidden",children:[(0,a.jsxs)("header",{className:"bg-white/80 backdrop-blur-xl shadow-xl border-b border-white/20 px-6 py-5 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-50/50 to-purple-50/50"}),(0,a.jsxs)("div",{className:"relative z-10 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent capitalize flex items-center",children:"overview"===U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{className:"h-8 w-8 mr-3 text-indigo-600"}),"Dashboard Overview"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.A,{className:"h-8 w-8 mr-3 text-indigo-600"}),U.replace("_"," ")]})}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1 font-medium",children:["Welcome to TerraTrust • ",P.full_name]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 bg-white/60 backdrop-blur-sm px-4 py-2 rounded-2xl border border-white/30",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"absolute inset-0 w-3 h-3 bg-green-400 rounded-full animate-ping"})]}),(0,a.jsx)("span",{className:"text-sm font-semibold text-green-700",children:"System Online"})]}),(0,a.jsxs)("button",{className:"relative p-3 bg-white/60 backdrop-blur-sm rounded-2xl border border-white/30 hover:bg-white/80 transition-all group",children:[(0,a.jsx)(q.A,{className:"h-6 w-6 text-indigo-600 group-hover:scale-110 transition-transform"}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold animate-bounce",children:ei.openQueries})]})]})]})]}),(0,a.jsxs)("main",{className:"flex-1 overflow-auto p-6 bg-gradient-to-br from-gray-50/50 to-indigo-50/30",children:["overview"===U&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"group relative overflow-hidden bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-indigo-100/30"}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-500/10 rounded-2xl",children:(0,a.jsx)(g.A,{className:"h-8 w-8 text-blue-600 group-hover:scale-110 transition-transform"})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"TerraTrust Properties"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:ei.totalRecords}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-green-600 mt-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"\uD83C\uDFD8️ Registry Active"]})]})]})})]}),(0,a.jsxs)("div",{className:"group relative overflow-hidden bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-50/50 to-amber-100/30"}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"p-3 bg-orange-500/10 rounded-2xl",children:(0,a.jsx)(N.A,{className:"h-8 w-8 text-orange-600 group-hover:scale-110 transition-transform"})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Pending Approval"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:ei.pendingRecords}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-orange-600 mt-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-1 animate-pulse"}),"\uD83D\uDD0D Admin Review"]})]})]})})]}),(0,a.jsxs)("div",{className:"group relative overflow-hidden bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50/50 to-emerald-100/30"}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"p-3 bg-green-500/10 rounded-2xl",children:(0,a.jsx)(b.A,{className:"h-8 w-8 text-green-600 group-hover:scale-110 transition-transform"})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Blockchain Secured"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:ei.approvedRecords}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-green-600 mt-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"✅ Verified Assets"]})]})]})})]}),(0,a.jsxs)("div",{className:"group relative overflow-hidden bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50/50 to-violet-100/30"}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"p-3 bg-purple-500/10 rounded-2xl",children:(0,a.jsx)(f.A,{className:"h-8 w-8 text-purple-600 group-hover:scale-110 transition-transform"})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"User Support"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:ei.openQueries}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-purple-600 mt-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-1 animate-pulse"}),"\uD83D\uDCAC Help Requests"]})]})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-500/10 to-indigo-500/10 px-6 py-4 border-b border-blue-100/50",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(g.A,{className:"h-6 w-6 text-emerald-600 mr-3"}),"Recent TerraTrust Registrations"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"\uD83C\uDFD8️ Latest blockchain-secured property records"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:Q.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50/80 rounded-xl hover:bg-blue-50/80 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-500/10 rounded-xl flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-blue-600 font-bold",children:s+1})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:e.land_id}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.owner_name})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(eP(e.status)),children:e.status}),(0,a.jsx)(R.A,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]})]},e.id))})})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 to-violet-500/10 px-6 py-4 border-b border-purple-100/50",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(C.A,{className:"h-6 w-6 text-purple-600 mr-3"}),"Recent Queries"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Latest user inquiries"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:K.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50/80 rounded-xl hover:bg-purple-50/80 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-500/10 rounded-xl flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-purple-600 font-bold",children:s+1})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900 group-hover:text-purple-600 transition-colors",children:e.subject}),(0,a.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:e.category.replace("_"," ")})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(eP(e.status)),children:e.status}),(0,a.jsx)(R.A,{className:"h-4 w-4 text-gray-400 group-hover:text-purple-600 transition-colors"})]})]},e.id))})})]})]})]}),"records"===U&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 via-blue-600 to-purple-600 bg-clip-text text-transparent",children:"TerraTrust Registry"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"\uD83C\uDFD8️ Complete digital land registry with blockchain-secured ownership records"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("div",{className:"bg-white/60 backdrop-blur-sm px-4 py-2 rounded-xl border border-white/30",children:(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:["Total Records: ",Q.length]})}),(0,a.jsxs)("button",{onClick:()=>eh(!0),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[(0,a.jsx)(I.A,{className:"h-5 w-5 mr-2"}),"Add New Record"]})]})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-4 border-b border-gray-200",children:[(0,a.jsxs)("h4",{className:"text-lg font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(B.A,{className:"h-5 w-5 mr-2 text-emerald-600"}),"TerraTrust Property Database"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"\uD83C\uDFD8️ Complete digital registry with blockchain-verified ownership & authenticity"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-blue-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Land ID"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Owner Details"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Property Info"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Blockchain"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"bg-white/80 divide-y divide-gray-200",children:Q.map((e,s)=>(0,a.jsxs)("tr",{className:"hover:bg-blue-50/50 transition-colors group",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center mr-3 shadow-lg",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:s+1})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-900",children:e.land_id}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Reg: ",new Date(e.registration_date).toLocaleDateString()]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-bold text-gray-900",children:e.owner_name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.location}),(0,a.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["Area: ",(0,a.jsx)("span",{className:"font-semibold",children:e.area})," acres"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Type: ",(0,a.jsx)("span",{className:"capitalize",children:e.property_type})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("div",{children:e.blockchain_hash?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2 animate-pulse"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-bold text-green-700",children:"On Blockchain"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 font-mono",children:[e.blockchain_hash.substring(0,12),"..."]})]})]}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),(0,a.jsx)("div",{className:"text-xs text-yellow-700 font-medium",children:"approved"===e.status?"Ready for Blockchain":"Pending Approval"})]})})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ".concat(eP(e.status)),children:[eF(e.status),(0,a.jsx)("span",{className:"ml-1 capitalize",children:e.status})]})})]},e.id))})]})}),0===Q.length&&(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)(g.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-6"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Records Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"No land records have been registered yet."}),(0,a.jsxs)("button",{onClick:()=>eh(!0),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[(0,a.jsx)(I.A,{className:"h-5 w-5 mr-2"}),"Add First Record"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center mr-4",children:(0,a.jsx)(g.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:Q.length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Records"})]})]})}),(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mr-4",children:(0,a.jsx)(b.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:Q.filter(e=>"approved"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Approved"})]})]})}),(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-xl flex items-center justify-center mr-4",children:(0,a.jsx)(N.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:Q.filter(e=>"pending"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Pending"})]})]})}),(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl flex items-center justify-center mr-4",children:(0,a.jsx)(_.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:Q.filter(e=>e.blockchain_hash).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"On Blockchain"})]})]})})]})]}),"approvals"===U&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500/10 to-indigo-500/10 px-6 py-4 border-b border-blue-100/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(T.A,{className:"h-6 w-6 text-blue-600 mr-3"}),"Pending Land Record Requests"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Multi-admin approval required before blockchain creation"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("span",{className:"bg-blue-100 text-blue-800 text-xs font-bold px-3 py-1 rounded-full",children:[X.length," Pending"]})})]})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[X.map(e=>(0,a.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl p-6 border border-blue-100",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsx)("h4",{className:"text-lg font-bold text-gray-900",children:e.land_id}),(0,a.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded-full",children:e.request_type.toUpperCase()})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Owner"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.owner_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Location"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Area"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.area," acres"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Property Type"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.property_type})]})]}),e.request_notes&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Notes"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 bg-gray-100 p-2 rounded",children:e.request_notes})]}),e.document_urls&&e.document_urls.length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Documents"}),(0,a.jsx)("div",{className:"flex space-x-2",children:e.document_urls.map((e,s)=>(0,a.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-full hover:bg-indigo-200 transition-colors",children:[(0,a.jsx)(g.A,{className:"h-3 w-3 mr-1"}),"Document ",s+1]},s))})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Requested: ",new Date(e.created_at).toLocaleDateString()]}),(0,a.jsxs)("span",{children:["Approvals: ",e.current_approvals,"/",e.required_approvals]}),(0,a.jsxs)("span",{children:["Status: ",e.approval_status]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2 ml-6",children:[(0,a.jsxs)("button",{onClick:async()=>{try{let{approvalComplete:s,blockchainCreated:t}=await p.submitAdminApproval(e.id,x.id,P.full_name,"approve","Approved by ".concat(P.full_name),P.admin_department);t?alert("✅ Request approved and blockchain transaction created!\n\uD83D\uDD17 Land record has been added to the blockchain."):s&&alert("✅ Request approved!\nWaiting for ".concat(e.required_approvals-e.current_approvals-1," more approval(s).")),await eC()}catch(e){alert("❌ Error approving request: "+e.message)}},className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold text-sm flex items-center",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Approve"]}),(0,a.jsxs)("button",{onClick:async()=>{let s=prompt("Reason for rejection:");if(s)try{await p.submitAdminApproval(e.id,x.id,P.full_name,"reject",s,P.admin_department),alert("❌ Request rejected.\nReason: ".concat(s)),await eC()}catch(e){alert("❌ Error rejecting request: "+e.message)}},className:"px-4 py-2 bg-gradient-to-r from-red-500 to-rose-600 text-white rounded-lg hover:from-red-600 hover:to-rose-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold text-sm flex items-center",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})},e.id)),0===X.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(T.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:"No Pending Requests"}),(0,a.jsx)("p",{className:"text-gray-600",children:"All land record requests have been processed or are awaiting other admin approvals"})]})]})})]}),Z.length>0&&(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-500/10 to-amber-500/10 px-6 py-4 border-b border-orange-100/50",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(b.A,{className:"h-6 w-6 text-orange-600 mr-3"}),"Legacy Approvals"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Old approval system (non-blockchain)"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:Z.map(e=>(0,a.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-orange-50 rounded-2xl p-6 border border-orange-100",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-bold text-gray-900",children:["Land Record: ",e.record.land_id]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Owner: ",e.record.owner_name]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Location: ",e.record.location]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Submitted: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,a.jsx)("button",{onClick:()=>{ed(e.record),eb(!0)},className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-2xl hover:from-orange-600 hover:to-amber-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:"Review"})]})},e.id))})})]})]}),"queries"===U&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"User Queries"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage and respond to user inquiries"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-2 rounded-2xl border border-blue-200",children:(0,a.jsxs)("span",{className:"text-sm font-semibold text-blue-700",children:[ei.openQueries," Open • ",ei.totalQueries," Total"]})})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[K.filter(e=>!e.admin_response||"resolved"!==e.status).map(e=>(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 overflow-hidden group hover:shadow-2xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-500/10 to-indigo-500/10 px-6 py-4 border-b border-purple-100/50",children:(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("h4",{className:"text-xl font-bold text-gray-900",children:e.subject}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(eP(e.status)),children:e.status}),(0,a.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("urgent"===e.priority?"bg-red-100 text-red-700":"high"===e.priority?"bg-orange-100 text-orange-700":"medium"===e.priority?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:[e.priority," priority"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"Category: ",e.category.replace("_"," ")]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-1"}),new Date(e.created_at).toLocaleDateString()]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(T.A,{className:"h-4 w-4 mr-1"}),"User ID: ",e.user_id]})]})]})})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2 text-indigo-600"}),"User Message:"]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl p-4 border border-gray-200",children:(0,a.jsx)("p",{className:"text-gray-800 leading-relaxed",children:e.message})})]}),e.admin_response?(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h5",{className:"text-sm font-semibold text-blue-700 mb-3 flex items-center",children:[(0,a.jsx)(_.A,{className:"h-4 w-4 mr-2"}),"Your Response:"]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-4 border border-blue-200",children:(0,a.jsx)("p",{className:"text-blue-800 leading-relaxed",children:e.admin_response})})]}):(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-4 border border-orange-200 flex items-center",children:[(0,a.jsx)(w.A,{className:"h-5 w-5 text-orange-600 mr-3 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-orange-800 font-medium",children:"This query is awaiting your response"})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>{ev(e),eN(!0)},className:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold flex items-center space-x-2",children:[(0,a.jsx)(C.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.admin_response?"Edit Response":"Respond Now"})]}),"resolved"!==e.status&&!e.admin_response&&(0,a.jsxs)("button",{onClick:()=>{confirm("Mark this query as resolved without responding? The query will be removed from the dashboard.")&&eH(e.id)},className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold flex items-center space-x-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Mark Resolved"})]})]})]})]},e.id)),0===K.length&&(0,a.jsx)("div",{className:"text-center py-16",children:(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-12",children:[(0,a.jsx)(f.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-6"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Queries Found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No user queries have been submitted yet."})]})})]})]}),"blockchain"===U&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 via-blue-600 to-purple-600 bg-clip-text text-transparent",children:"TerraTrust Blockchain"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"⛓️ Immutable land ownership records with SHA-256 cryptographic security"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r ".concat(et.chainValid?"from-green-50 to-emerald-50 border-green-200":"from-red-50 to-pink-50 border-red-200"," px-4 py-2 rounded-2xl border"),children:(0,a.jsxs)("span",{className:"text-sm font-semibold ".concat(et.chainValid?"text-green-700":"text-red-700"),children:["Chain Status: ",et.chainValid?"Valid":"Invalid"]})}),(0,a.jsxs)("button",{onClick:eO,disabled:t,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm font-semibold rounded-2xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),t?"Repairing...":"Fix Chain"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"group relative overflow-hidden bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-indigo-100/30"}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-500/10 rounded-2xl",children:(0,a.jsx)(v.A,{className:"h-8 w-8 text-blue-600 group-hover:scale-110 transition-transform"})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Chain Blocks"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:et.totalTransactions}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-blue-600 mt-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1 animate-pulse"}),"⛓️ TerraTrust Active"]})]})]})})]}),(0,a.jsxs)("div",{className:"group relative overflow-hidden bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-50/50 to-violet-100/30"}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"p-3 bg-purple-500/10 rounded-2xl",children:(0,a.jsx)(_.A,{className:"h-8 w-8 text-purple-600 group-hover:scale-110 transition-transform"})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Admin Signatures"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:et.totalSignatures}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-purple-600 mt-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-1 animate-pulse"}),"\uD83D\uDD10 Crypto Security"]})]})]})})]}),(0,a.jsxs)("div",{className:"group relative overflow-hidden bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-50/50 to-amber-100/30"}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"p-3 bg-orange-500/10 rounded-2xl",children:(0,a.jsx)(N.A,{className:"h-8 w-8 text-orange-600 group-hover:scale-110 transition-transform"})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Awaiting Review"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:et.pendingApprovals}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-orange-600 mt-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-1 animate-pulse"}),"\uD83D\uDC65 Multi-Admin Review"]})]})]})})]}),(0,a.jsxs)("div",{className:"group relative overflow-hidden bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50/50 to-emerald-100/30"}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"p-3 bg-green-500/10 rounded-2xl",children:(0,a.jsx)(b.A,{className:"h-8 w-8 text-green-600 group-hover:scale-110 transition-transform"})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Chain Secured"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:et.approvedTransactions}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-green-600 mt-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"\uD83D\uDD12 Immutable Records"]})]})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500/10 to-purple-500/10 px-6 py-4 border-b border-indigo-100/50",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(B.A,{className:"h-6 w-6 text-emerald-600 mr-3"}),"TerraTrust Blockchain Ledger"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"⛓️ Immutable transaction history with cryptographic proof & digital signatures"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-indigo-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Block #"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Current Hash"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Previous Hash"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Land Record"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Signatures"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Nonce"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Created"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Details"})]})}),(0,a.jsx)("tbody",{className:"bg-white/80 divide-y divide-gray-200",children:ee.map((e,s)=>{var t,r,l,i,n,o,d,c,x,m;return(0,a.jsxs)("tr",{className:"hover:bg-indigo-50/50 transition-colors group",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:e.block_index})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Block #",e.block_index]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"text-xs font-mono text-gray-900 bg-blue-100 px-2 py-1 rounded border",children:[null==(t=e.block_hash)?void 0:t.substring(0,16),"..."]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Current Block Hash"})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"text-xs font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded border",children:[null==(r=e.previous_hash)?void 0:r.substring(0,16),"..."]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Previous Block Hash"})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-semibold text-gray-900",children:(null==(i=e.transaction_data)||null==(l=i.newData)?void 0:l.land_id)||(null==(n=e.transaction_data)?void 0:n.recordId)||(null==(o=e.land_record_id)?void 0:o.substring(0,8))+"..."}),(0,a.jsx)("div",{className:"text-gray-600 text-xs",children:(null==(c=e.transaction_data)||null==(d=c.newData)?void 0:d.owner_name)||(null==(m=e.transaction_data)||null==(x=m.newData)?void 0:x.owner)||"System Record"}),e.land_record_id&&(0,a.jsxs)("div",{className:"text-xs text-blue-600",children:["ID: ",e.land_record_id.substring(0,8),"..."]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.A,{className:"h-4 w-4 text-indigo-600"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[e.signature_count||0," Signatures"]})]}),e.admin_signatures&&e.admin_signatures.length>0&&(0,a.jsxs)("div",{className:"space-y-1",children:[e.admin_signatures.slice(0,2).map((e,s)=>{var t;return(0,a.jsxs)("div",{className:"text-xs bg-green-50 border border-green-200 rounded px-2 py-1",children:[(0,a.jsx)("div",{className:"font-medium text-green-800",children:e.admin_name}),(0,a.jsxs)("div",{className:"text-green-600 font-mono text-xs",children:["ID: ",null==(t=e.admin_id)?void 0:t.substring(0,8),"..."]})]},s)}),e.admin_signatures.length>2&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["+",e.admin_signatures.length-2," more"]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-sm font-mono text-gray-900 bg-yellow-100 px-2 py-1 rounded border",children:e.nonce||"N/A"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Proof of Work"})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:new Date(e.timestamp||e.created_at).toLocaleDateString()}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.timestamp||e.created_at).toLocaleTimeString()})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("button",{onClick:()=>{let s={blockIndex:e.block_index,currentHash:e.block_hash,previousHash:e.previous_hash,nonce:e.nonce,difficulty:e.difficulty||2,timestamp:e.timestamp||e.created_at,transactionData:e.transaction_data,signatures:e.admin_signatures||[],landRecordId:e.land_record_id,createdBy:e.created_by};alert("\uD83D\uDD17 Blockchain Block Details\n\n"+"Block Index: ".concat(s.blockIndex,"\n")+"Current Hash: ".concat(s.currentHash,"\n")+"Previous Hash: ".concat(s.previousHash,"\n")+"Nonce: ".concat(s.nonce,"\n")+"Difficulty: ".concat(s.difficulty,"\n")+"Timestamp: ".concat(new Date(s.timestamp).toLocaleString(),"\n")+"Signatures: ".concat(s.signatures.length," admin signatures\n")+"Land Record ID: ".concat(s.landRecordId||"N/A","\n")+"Created By: ".concat(s.createdBy||"System"))},className:"bg-indigo-100 hover:bg-indigo-200 text-indigo-700 px-3 py-1 rounded-lg text-xs font-medium transition-colors flex items-center space-x-1",children:[(0,a.jsx)(H.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"View"})]})})]},e.id)})})]})}),0===ee.length&&(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)(v.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-6"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Blockchain Transactions"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"No transactions have been recorded on the blockchain yet."}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 space-y-2",children:[(0,a.jsx)("p",{children:"• Create or update land records to see blockchain transactions"}),(0,a.jsx)("p",{children:"• Each action is cryptographically signed and stored immutably"}),(0,a.jsx)("p",{children:"• Multi-admin approval ensures transaction security"})]})]})]}),er.length>0&&(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 to-indigo-500/10 px-6 py-4 border-b border-purple-100/50",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(T.A,{className:"h-6 w-6 text-purple-600 mr-3"}),"Multi-Admin Approvals"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Transactions requiring multiple administrator signatures"})]}),(0,a.jsx)("div",{className:"p-6 space-y-6",children:er.map(e=>(0,a.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-purple-50 rounded-2xl p-6 border border-purple-100",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-bold text-gray-900",children:e.land_id}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.owner_name})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(eP(e.approval_status)),children:e.approval_status}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.current_approvals,"/",e.required_approvals," approvals"]})]})]}),e.approval_signatures&&e.approval_signatures.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-semibold text-gray-700",children:"Admin Signatures:"}),e.approval_signatures.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-lg px-4 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("approve"===e.approval_action?"bg-green-500":"bg-red-500")}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.admin_name}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("approve"===e.approval_action?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.approval_action})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.signed_at).toLocaleString()})]},s))]})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 px-6 py-4 border-b border-green-100/50",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(L.A,{className:"h-6 w-6 text-green-600 mr-3"}),"Blockchain Features"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Local blockchain implementation with enterprise security"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"✅ Implemented Features"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{children:"SHA-256 cryptographic hashing"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{children:"Proof-of-work mining algorithm"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{children:"Multi-admin digital signatures"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{children:"Immutable transaction records"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{children:"Chain integrity validation"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"\uD83D\uDD12 Security Features"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("span",{children:"Local blockchain (no external dependencies)"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("span",{children:"Zero cost implementation"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("span",{children:"Admin-only transaction approval"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("span",{children:"Tamper-proof record history"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("span",{children:"Database integration for persistence"})]})]})]})]})})]})]}),"settings"===U&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Settings & Profile"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2 text-lg",children:"Manage your admin account and system preferences"})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:(0,a.jsx)(O.A,{className:"h-10 w-10 text-white"})}),(0,a.jsxs)("div",{className:"text-white",children:[(0,a.jsx)("h4",{className:"text-2xl font-bold",children:P.full_name}),(0,a.jsx)("p",{className:"text-indigo-100 text-lg",children:"System Administrator"}),(0,a.jsxs)("p",{className:"text-indigo-200 text-sm mt-1",children:["Department: ",P.admin_department||"General Administration"]})]})]})}),(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(O.A,{className:"h-4 w-4 text-white"})}),(0,a.jsx)("h5",{className:"text-xl font-bold text-gray-900",children:"Personal Information"})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Full Name"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Verified"})]})]}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900 bg-white rounded-xl px-4 py-3 border border-gray-200",children:P.full_name})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Email Address"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]})]}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900 bg-white rounded-xl px-4 py-3 border border-gray-200 font-mono",children:P.email})]})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(_.A,{className:"h-4 w-4 text-white"})}),(0,a.jsx)("h5",{className:"text-xl font-bold text-gray-900",children:"System Access"})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,a.jsx)("span",{className:"text-xs text-purple-600 font-medium",children:"Assigned"})]})]}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900 bg-white rounded-xl px-4 py-3 border border-gray-200",children:P.admin_department||"General Administration"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-6 border border-orange-100",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Admin ID"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,a.jsx)("span",{className:"text-xs text-orange-600 font-medium",children:"System Generated"})]})]}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900 bg-white rounded-xl px-4 py-3 border border-gray-200 font-mono",children:P.admin_id||(null==(e=P.id)?void 0:e.substring(0,8).toUpperCase())})]})})]})]}),(0,a.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,a.jsxs)("button",{className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-2xl hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[(0,a.jsx)(j.A,{className:"h-5 w-5 mr-2"}),"Edit Profile"]}),(0,a.jsxs)("button",{className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 mr-2"}),"Security Settings"]}),(0,a.jsxs)("button",{className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-2xl hover:from-purple-600 hover:to-pink-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[(0,a.jsx)(q.A,{className:"h-5 w-5 mr-2"}),"Notifications"]})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:(0,a.jsx)(b.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"font-bold text-gray-900",children:"System Status"}),(0,a.jsx)("p",{className:"text-sm text-green-600 font-semibold",children:"Online & Secure"})]})]})}),(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:(0,a.jsx)(B.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"font-bold text-gray-900",children:"Data Backup"}),(0,a.jsx)("p",{className:"text-sm text-blue-600 font-semibold",children:"Last: Today"})]})]})}),(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:(0,a.jsx)(S.A,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"font-bold text-gray-900",children:"Activity"}),(0,a.jsx)("p",{className:"text-sm text-purple-600 font-semibold",children:"High Performance"})]})]})})]})]})]})]}),em&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Add New Land Record"}),(0,a.jsx)("button",{onClick:()=>eh(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(k.A,{className:"h-6 w-6"})})]})}),(0,a.jsxs)("form",{onSubmit:eT,className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Address *"}),(0,a.jsx)("input",{type:"text",name:"property_address",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter property address"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Name *"}),(0,a.jsx)("input",{type:"text",name:"owner_name",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter owner name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Area (in acres)"}),(0,a.jsx)("input",{type:"number",name:"area_acres",step:"0.01",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter area in acres"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type"}),(0,a.jsxs)("select",{name:"property_type",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"Select property type"}),(0,a.jsx)("option",{value:"residential",children:"Residential"}),(0,a.jsx)("option",{value:"commercial",children:"Commercial"}),(0,a.jsx)("option",{value:"agricultural",children:"Agricultural"}),(0,a.jsx)("option",{value:"industrial",children:"Industrial"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Survey Number"}),(0,a.jsx)("input",{type:"text",name:"survey_number",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter survey number"})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(E.A,{className:"h-4 w-4 inline mr-1"}),"Upload Supporting Documents"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Primary Document (PDF) *"}),(0,a.jsx)("input",{type:"file",name:"primary_document",accept:".pdf",required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm file:mr-4 file:py-1 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Upload the main property document (Required)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Additional Documents (Optional)"}),(0,a.jsx)("input",{type:"file",name:"additional_documents",accept:".pdf,.jpg,.jpeg,.png",multiple:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm file:mr-4 file:py-1 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-100"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Survey maps, legal documents, photos, etc."})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Request Notes"}),(0,a.jsx)("textarea",{name:"request_notes",rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Additional notes for approval review (optional)"})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(T.A,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Multi-Admin Approval Required"}),(0,a.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"This request will be sent for approval by 2 additional admins before being added to the blockchain."})]})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>eh(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:ep,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:ep?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting Request..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Submit for Approval"]})})]}),ep&&(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(S.A,{className:"h-5 w-5 text-blue-600 mr-2 animate-pulse"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Creating Approval Request"}),(0,a.jsx)("p",{className:"text-xs text-blue-600",children:"Uploading documents and submitting for multi-admin approval..."})]})]})})]})]})}),ec&&eo&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-8 py-6 text-white",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center",children:[(0,a.jsx)(g.A,{className:"h-7 w-7 mr-3"}),"Land Record Details"]}),(0,a.jsxs)("p",{className:"text-indigo-100 mt-1",children:["Complete information for ",eo.land_id]})]}),(0,a.jsx)("button",{onClick:()=>ex(!1),className:"text-white/80 hover:text-white hover:bg-white/10 rounded-full p-2 transition-colors",children:(0,a.jsx)(k.A,{className:"h-6 w-6"})})]})}),(0,a.jsxs)("div",{className:"p-8 overflow-y-auto max-h-[calc(90vh-120px)]",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Property Information"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Land ID"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:eo.land_id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Property Type"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900 capitalize",children:eo.property_type})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Location"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:eo.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Area"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[eo.area," acres"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(O.A,{className:"h-5 w-5 mr-2 text-green-600"}),"Owner Information"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Owner Name"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:eo.owner_name})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(S.A,{className:"h-5 w-5 mr-2 text-purple-600"}),"Status & Dates"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Current Status"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ".concat(eP(eo.status)),children:[eF(eo.status),(0,a.jsx)("span",{className:"ml-2 capitalize",children:eo.status})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Registration Date"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:new Date(eo.registration_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Created"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:new Date(eo.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-100",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 mr-2 text-amber-600"}),"Blockchain Status"]}),(0,a.jsx)("div",{className:"space-y-4",children:eo.blockchain_hash?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full mr-3 animate-pulse"}),(0,a.jsx)("span",{className:"text-lg font-bold text-green-700",children:"Recorded on Blockchain"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Block Hash"}),(0,a.jsx)("p",{className:"text-sm font-mono bg-gray-100 rounded-lg p-3 break-all text-gray-800",children:eo.blockchain_hash})]}),eo.ipfs_hash&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"IPFS Hash"}),(0,a.jsx)("p",{className:"text-sm font-mono bg-gray-100 rounded-lg p-3 break-all text-gray-800",children:eo.ipfs_hash})]})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded-full mr-3"}),(0,a.jsx)("span",{className:"text-lg font-bold text-yellow-700",children:"approved"===eo.status?"Ready for Blockchain":"Pending Approval"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"approved"===eo.status?"This record is approved and ready to be added to the blockchain.":"This record is pending approval before it can be added to the blockchain."})]})})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 bg-gradient-to-br from-gray-50 to-slate-50 rounded-2xl p-6 border border-gray-100",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(B.A,{className:"h-5 w-5 mr-2 text-gray-600"}),"Technical Details"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Record ID"}),(0,a.jsx)("p",{className:"text-sm font-mono bg-white rounded-lg p-3 text-gray-800 border",children:eo.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Last Updated"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-800 bg-white rounded-lg p-3 border",children:new Date(eo.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-gray-600",children:"Data Integrity"}),(0,a.jsx)("div",{className:"bg-white rounded-lg p-3 border",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-600 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Verified"})]})})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 flex justify-end space-x-4",children:[(0,a.jsx)("button",{onClick:()=>ex(!1),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-2xl hover:bg-gray-300 transition-all duration-300 font-semibold",children:"Close"}),eo.blockchain_hash&&(0,a.jsxs)("button",{onClick:()=>{alert("\uD83D\uDD17 Blockchain Verification:\n\nThis record is permanently stored on the blockchain with hash: ".concat(eo.blockchain_hash,"\n\nThis ensures the record cannot be tampered with or deleted."))},className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 font-semibold flex items-center",children:[(0,a.jsx)(_.A,{className:"h-5 w-5 mr-2"}),"Verify on Blockchain"]})]})]})]})}),ej&&ef&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4 rounded-t-2xl",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:"Respond to Query"}),(0,a.jsx)("button",{onClick:()=>{eN(!1),ev(null)},className:"text-white hover:text-gray-200 transition-colors",children:(0,a.jsx)(k.A,{className:"h-6 w-6"})})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:ef.subject}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[(0,a.jsxs)("span",{children:["User ID: ",ef.user_id]}),(0,a.jsxs)("span",{children:["Priority: ",ef.priority]}),(0,a.jsxs)("span",{children:["Category: ",ef.category.replace("_"," ")]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,a.jsx)("h5",{className:"font-semibold text-gray-700 mb-2",children:"User Message:"}),(0,a.jsx)("p",{className:"text-gray-800",children:ef.message})]})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=new FormData(e.target).get("response");s.trim()&&eL(ef.id,s.trim())},children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Response:"}),(0,a.jsx)("textarea",{name:"response",rows:6,className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",placeholder:"Type your response to the user...",defaultValue:ef.admin_response||"",required:!0})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{eN(!1),ev(null)},className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors font-semibold",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl font-semibold",children:"Send Response & Resolve"})]})]})]})]})})]}):null}}},e=>{e.O(0,[268,326,532,441,255,358],()=>e(e.s=2390)),_N_E=e.O()}]);